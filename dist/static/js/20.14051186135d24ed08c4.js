webpackJsonp([20],{kaRJ:function(i,t){},rxU6:function(i,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Au9i"),n=s("yBv7"),e=s("VPLA"),o={data:function(){return{isclose:!1,Signin_le:0,rule_b:!1,islgin:!0,mask:!1,isopbox:!1,maskObj:{type:"Signin",src:"/static/img/vip/signin_success@2x.png",data:{fen:"",exp:""}},Datelist:"",daraor:{num:0,tedata:function(){}},user_info:null,boxtype:{type:"",tit:""}}},created:function(){var i=this;this.$store.commit("selechange",4),this.$store.commit("_change",{_topshow:!1,_bottshow:!0}),this.$axios.post("/",{method:"member.index.userinfo"}).then(function(t){i.user_info=t.data.data.user_info})},methods:{goBack:function(){this.$router.goBack()},nexPage:function(){this.Signin_le+=3.08},prevPage:function(){this.Signin_le-=3.08},Signin:function(){var i=this;a.Indicator.open(),this.$axios.post("/",{method:"member.sign.signin",date:"",retroactive:0,is_active:0}).then(function(t){a.Indicator.close(),0==t.data.status?(i.maskObj.data.fen=t.data.data.score,i.maskObj.data.exp=t.data.data.epx,i.isclose=!0,i.mask=!0,i.islgin=!1,i.daraor.num=t.data.data.signday,i.Datelist[(new Date).getDate()-1].issign=1):Object(a.Toast)(t.data.msg)})},Supplement:function(){this.$router.push("/vip/Supplement")},close:function(i){this.isclose=i,this.mask=!1;var t=Number(this.daraor.num);3==t?(this.boxtype={type:0,tit:"木质宝箱"},this.isopbox=!0,this.mask=!0):10==t?(this.boxtype={type:1,tit:"白银宝箱"},this.isopbox=!0,this.mask=!0):17==t?(this.boxtype={type:2,tit:"钻石宝箱"},this.isopbox=!0,this.mask=!0):24==t&&(this.boxtype={type:3,tit:"王者宝箱"},this.isopbox=!0,this.mask=!0)}},mounted:function(){var i=this;this.$axios.post("/",{method:"member.sign.signlist"}).then(function(t){var s=t.data.data.list;for(var a in i.Datelist=s,s)s[a].istoday&&(i.Signin_le=3.08*parseInt((Number(a)+1)/7),1==s[a].issign&&(i.islgin=!1));i.daraor={num:t.data.data.num,tedata:function(){return i.daraor.num<3?3-i.daraor.num:i.daraor.num<10?10-i.daraor.num:i.daraor.num<17?17-i.daraor.num:i.daraor.num<24?24-i.daraor.num:void 0}}})},components:{typeImg:n.a,openBox:e.a}},r={render:function(){var i=this,t=i.$createElement,s=i._self._c||t;return s("div",{staticClass:"sigain_page"},[s("div",{staticClass:"sigin_header"},[s("h1",[i._v("我的签到\n        "),s("div",{staticClass:"back",on:{click:i.goBack}})]),i._v(" "),i.user_info?s("div",{staticClass:"user_"},[s("span",{style:{"background-image":"url("+i.user_info.avatar+")"}},[s("img",{attrs:{src:i.user_info.headframe.img}})]),i._v(" "),s("span",{staticClass:"user_mas"},[s("p",[i._v(i._s(i.user_info.nickname)),s("span",{staticClass:"lv_"},[i._v("LV "+i._s(i.user_info.level))])])])]):i._e(),i._v(" "),s("div",{staticClass:"Signin"},[s("h5",[i._v(i._s((new Date).toLocaleDateString()))]),i._v(" "),s("div",{staticClass:"_Signin"},[s("span",[s("img",{directives:[{name:"show",rawName:"v-show",value:0!=i.Signin_le,expression:"Signin_le != 0"}],attrs:{src:"/static/img/vip/common_icon_more_s@2xl.png"},on:{click:i.prevPage}})]),i._v(" "),s("div",[s("div",{staticClass:"_date clearfix",style:{transform:"translateX(-"+i.Signin_le+"rem)"}},i._l(i.Datelist,function(t){return s("span",{class:1==t.issign?"isSignin":"noSignin"},[i._v(i._s(t.date.split(".")[1]))])}))]),i._v(" "),s("span",[s("img",{directives:[{name:"show",rawName:"v-show",value:i.Signin_le<12,expression:"Signin_le < 12"}],attrs:{src:"/static/img/vip/common_icon_more@2x.png"},on:{click:i.nexPage}})])]),i._v(" "),s("p",{staticClass:"tip"},[i._v("*你已累计签到"+i._s(i.daraor.num)+"天 "),i.daraor.num<24?[i._v("在签到"+i._s(i.daraor.tedata())+"便可获得抽取宝箱的机会")]:[i._v("本月已获得全部宝箱")]],2),i._v(" "),s("div",{staticClass:"sihin_butt"},[i.islgin?s("p",{staticStyle:{"background-color":"#ff640a"},on:{click:i.Signin}},[i._v("签到")]):s("p",{staticStyle:{"background-color":"#dddddd"}},[i._v("已签到")]),i._v(" "),s("p",{on:{click:i.Supplement}},[i._v("补签")])])]),i._v(" "),s("div",{staticClass:"rule",on:{click:function(t){i.rule_b=!0,i.mask=!0}}},[s("span"),i._v(" 签到规则\n      ")])]),i._v(" "),s("div",{staticStyle:{height:"1.65rem"}}),i._v(" "),s("main",[s("div",{staticClass:"reward"},[s("div",{staticClass:"_tit"},[i._v("奖励说明")]),i._v(" "),s("div",{staticClass:"box border_t"},[s("div",{staticClass:"box1"},[s("div",[s("p",[i._v("累计签到3天")]),i._v(" "),s("img",{attrs:{src:i.daraor.num>=3?"/static/img/vip/img_woodenbox_s@2x.png":"/static/img/vip/img_woodenbox@2x.png"}}),i._v(" "),s("p",[i._v("木质宝箱")])]),i._v(" "),s("div",[s("p",[i._v("累计签到10天")]),i._v(" "),s("img",{attrs:{src:i.daraor.num>=10?"/static/img/vip/img_whitegoldbox_s@2x.png":"/static/img/vip/img_whitegoldbox@2x.png"}}),i._v(" "),s("p",[i._v("白银宝箱")])])]),i._v(" "),s("div",{staticClass:"box2"},[s("div",[s("p",[i._v("累计签到17天")]),i._v(" "),s("img",{attrs:{src:i.daraor.num>=17?"/static/img/vip/diamonds_box_s@2x.png":"/static/img/vip/diamonds_box@2x.png"}}),i._v(" "),s("p",[i._v("钻石宝箱")])]),i._v(" "),s("div",[s("p",[i._v("累计签到24天")]),i._v(" "),s("img",{attrs:{src:i.daraor.num>=24?"/static/img/vip/king_box_s@2x.png":"/static/img/vip/king_box@2x.png"}}),i._v(" "),s("p",[i._v("王者宝箱")])])])])])]),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.rule_b,expression:"rule_b"}],staticClass:"rule_box",class:i.rule_b?"feoss":"",on:{touchmove:function(i){i.preventDefault()}}},[s("div",[i._v("签到规则\n        "),s("span",{on:{click:function(t){i.rule_b=!1,i.mask=!1}}})]),i._v(" "),i._m(0)]),i._v(" "),s("open-box",{attrs:{islook:i.isopbox,data:i.boxtype},on:{isclose:function(t){i.mask=!1,i.isopbox=!1}}}),i._v(" "),s("type-img",{attrs:{islook:i.isclose,data:i.maskObj},on:{isclose:i.close}}),i._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i.mask,expression:"mask"}],staticClass:"mask",on:{touchmove:function(i){i.preventDefault()}}})],1)},staticRenderFns:[function(){var i=this.$createElement,t=this._self._c||i;return t("div",{staticClass:"rule_b"},[t("p",[this._v("1. 会员用户每日可签到一次, 每次签到将获得10积分、3点经验。")]),this._v(" "),t("p",[this._v("2. 连续签到将会获得海量福利。")]),this._v(" "),t("p",[this._v("3. 会员3级将会获得补签功能，可以自行选择要补签的日期。")])])}]};var c=s("VU/8")(o,r,!1,function(i){s("kaRJ")},null,null);t.default=c.exports}});
//# sourceMappingURL=20.14051186135d24ed08c4.js.map
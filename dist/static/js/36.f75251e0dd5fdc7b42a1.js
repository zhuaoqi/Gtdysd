webpackJsonp([36],{BEix:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),o=a("Au9i"),n=a("wSLB"),l={data:function(){return{allLoaded:!1,user_info:null,sele:"1",page:1,PostList:null,height:document.body.clientHeight-140+"px",isdata:!1}},created:function(){this.user_info=JSON.parse(localStorage.getItem("user_info")),this.$store.commit("selechange",4),this.$store.commit("_change",{_logo:!1,_title:"我的地盘",_search:!1,_topshow:!0,_msg:!1,_bottshow:!0,_regain:!1,_back:!0})},methods:{like:function(t,e,a,i,s){this.PostList[s].islike=!i,i=i?"no_collect":"collect",Object(n.b)(this,t,e,a,i)},share:function(t,e,a,i,s){this.PostList[s].isscale=!i;var o=Number(this.PostList[s].data.attribute_num.like);this.PostList[s].data.attribute_num.like=i?String(o-1):String(o+1),i=i?"no_like":"like",Object(n.c)(this,t,e,a,i)},_fenxing:function(t,e){if(!Boolean(window.localStorage.getItem("is_login")))return Object(o.Toast)("登录失效"),this.$router.push("/logo"),!1;sessionStorage.setItem("_fenxing",t),sessionStorage.setItem("tiezi",s()(e)),this.$router.push({name:"share"})},godetails:function(t,e){this.$router.push({name:"details",query:{notid:t,isblur:e}})},getData:function(t,e){var a=this;o.Indicator.open(),this.isdata=!1,this.allLoaded=!1,this.$axios.post("/",{method:"note.user.userNote",behavior:t,noteConType:"all",page:this.page,gt_id:this.user_info.gt_id}).then(function(t){if(o.Indicator.close(),a.isdata=!0,0==t.data.status){"shi"==e&&Object(o.Toast)("刷新成功");var i=t.data.data.list;if(0==i.length)return Object(o.Toast)("以加载全部数据~"),void(a.allLoaded=!0);for(var s=0;s<i.length;s++)if(i[s].data.contents=Object(n.e)(i[s].data.contents),i[s].isscale="0"!=i[s].data.user_attribute.like,i[s].islike="0"!=i[s].data.user_attribute.collect,i[s].extra_id&&null!=i[s].extra_id[0])for(var l=0;l<i[s].extra_id.length;l++)i[s].extra_id[l].contents=Object(n.e)(i[s].extra_id[l].contents);a.PostList="add"==e?a.PostList.concat(i):i}else Object(o.Toast)(t.data.msg)})},dom:function(t){t=(t=(t=(t=(t=(t=t.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&#39;/g,"'");var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0].width="100%",e.childNodes[0].height="100%",e.innerHTML},loadTop:function(){this.page=1,this.getData(this.sele,"shi"),this.$refs.loadmore.onTopLoaded()},loadBottom:function(){this.page+=1,this.getData(this.sele,"add"),this.$refs.loadmore.onBottomLoaded()}},mounted:function(){var t=this;this.getData(1);var e=0;this.$refs.mydata.ontouchstart=function(t){e=t.touches[0].pageX},this.$refs.mydata.ontouchend=function(a){t.translateX=0,e-a.changedTouches[0].pageX>100?"5"==t.sele?t.sele="1":t.sele=String(Number(t.sele)+1):e-a.changedTouches[0].pageX<-100&&("1"==t.sele?t.sele="5":t.sele=String(Number(t.sele)-1))}},computed:{},components:{},watch:{sele:function(t){this.page=1,this.getData(t)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mydata"},[a("div",{staticClass:"myhome_page"},[a("mt-navbar",{model:{value:t.sele,callback:function(e){t.sele=e},expression:"sele"}},[a("mt-tab-item",{attrs:{id:"1"}},[t._v("推送")]),t._v(" "),a("mt-tab-item",{attrs:{id:"2"}},[t._v("分享")]),t._v(" "),a("mt-tab-item",{attrs:{id:"3"}},[t._v("收藏")]),t._v(" "),a("mt-tab-item",{attrs:{id:"4"}},[t._v("点赞")]),t._v(" "),a("mt-tab-item",{attrs:{id:"5"}},[t._v("评论")])],1),t._v(" "),a("div",{style:{height:t.height,overflow:"scroll"}},[a("mt-loadmore",{ref:"loadmore",attrs:{autoFill:!1,"bottom-method":t.loadBottom,"top-method":t.loadTop,"bottom-all-loaded":t.allLoaded}},[t.isdata?a("ul",{attrs:{id:"ullist"}},t._l(t.PostList,function(e,i){return t.PostList?a("li",{key:i},[a("div",{staticClass:"user_msg"},[a("div",{staticClass:"user_msg_t"},[a("img",{attrs:{src:e.data.user_info.avatar||"/static/img/morentouxiang --icon.png",alt:""}})]),t._v(" "),a("div",[a("div",[a("p",[t._v(t._s(e.data.user_info.nickname))]),t._v(" "),a("p",[t._v(t._s(e.data.update_time))])]),t._v(" "),a("div",{staticClass:"labels"},[a("span",[t._v("其他")])])]),t._v(" "),a("div",{staticClass:"clear"}),t._v(" "),a("div",[a("i",[t._v(t._s(e.data.title))])]),t._v(" "),a("div",{on:{click:function(a){t.godetails(e.data.uid)}}},[a("p",{staticStyle:{"text-indent":"0"},domProps:{innerHTML:t._s(e.data.contents)}}),t._v(" "),""!=e.data.uurl?[-1==e.data.uurl[0].search("iframe")?a("div",{staticClass:"t-pic"},t._l(e.data.uurl,function(i,s){return a("img",{key:s,staticClass:"wc-preview-img",attrs:{src:i+"?x-oss-process=image/resize,m_fill,h_200,w_200"},on:{click:function(a){a.stopPropagation(),t.$preview(a,e.data.uurl,s)}}})})):a("div",{domProps:{innerHTML:t._s(t.dom(e.data.uurl[0]))}})]:t._e()],2),t._v(" "),e.extra_id?t._l(e.extra_id,function(e){return a("div",{staticClass:"user_msg",style:{"background-color":null==e?"#fff":"#f6f6f6"}},[null!=e?[a("div",{staticClass:"user_msg_t"},[a("img",{attrs:{src:e.user_info.avatar||"/static/img/morentouxiang --icon.png",alt:""}})]),t._v(" "),a("div",{staticStyle:{width:"2.8rem"}},[a("div",[a("p",[t._v(t._s(e.user_info.nickname))]),t._v(" "),a("p",[t._v(t._s(e.update_time))])]),t._v(" "),a("div",{staticClass:"labels"},[a("span",[t._v("其他")])])]),t._v(" "),a("div",{staticClass:"clear"}),t._v(" "),a("div",[a("i",[t._v(t._s(e.title))])]),t._v(" "),a("div",{on:{click:function(a){t.godetails(e.uid)}}},[a("p",{staticStyle:{"text-indent":"0"},domProps:{innerHTML:t._s(e.contents)}}),t._v(" "),t._l(e.uurl,function(e,i){return a("div",{key:i,staticClass:"t-pic"},[-1==e.search("iframe")?a("img",{attrs:{src:e+"?x-oss-process=image/resize,m_fill,h_200,w_200"}}):a("div",{domProps:{innerHTML:t._s(t.dom(e))}})])})],2)]:[t._v("\n                      抱歉该帖已被删除\n                  ")]],2)}):t._e(),t._v(" "),a("div",{staticClass:"startPointer border_t",staticStyle:{position:"relative"}},[a("a",{on:{click:function(a){t.godetails(e.data.uid,!0)}}},[a("i",{staticClass:"reply-icon"}),0==e.data.attribute_num.comment?a("span",[t._v("评论")]):a("span",[t._v(t._s(e.data.attribute_num.comment))])]),t._v(" "),a("a",{on:{click:function(a){t._fenxing(e.data.uid,e)}}},[a("i",{staticClass:"share-icon"}),a("span",[t._v("分享")])]),t._v(" "),a("a",{class:{like:e.islike},on:{click:function(a){t.like(e.data.uid,e.data.title,e.data.user_info.gt_id,e.islike,i)}}},[a("i",{staticClass:"collect-icon"}),t._v(" "),e.islike?a("span",[t._v("已收藏")]):a("span",[t._v("收藏")])]),t._v(" "),a("a",{class:{scale:e.isscale},on:{click:function(a){t.share(e.data.uid,e.data.title,e.data.user_info.gt_id,e.isscale,i)}}},[a("i",{staticClass:"laud-icon"}),0==e.data.attribute_num.like?a("span",[t._v("点赞")]):a("span",[t._v(t._s(e.data.attribute_num.like))])])])],2)]):t._e()})):t._e()])],1)],1)])},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("v38F")},null,null);e.default=c.exports},v38F:function(t,e){}});
//# sourceMappingURL=36.f75251e0dd5fdc7b42a1.js.map